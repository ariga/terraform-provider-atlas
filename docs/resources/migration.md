---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "atlas_migration Resource - terraform-provider-atlas"
subcategory: ""
description: |-
  The resource applies pending migration files on the connected database.See https://atlasgo.io/
---

# atlas_migration (Resource)

The resource applies pending migration files on the connected database.See https://atlasgo.io/

## Example Usage

```terraform
data "atlas_migration" "hello" {
  dir = "migrations?format=atlas"
  url = "mysql://root:pass@localhost:3307/hello"
}

resource "atlas_migration" "hello" {
  dir     = "migrations?format=atlas"
  version = data.atlas_migration.hello.latest # Use latest to run all migrations
  url     = data.atlas_migration.hello.url
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `url` (String, Sensitive) The url of the database see https://atlasgo.io/cli/url

### Optional

- `baseline` (String) An optional version to start the migration history from. See https://atlasgo.io/versioned/apply#existing-databases
- `cloud` (Block, Optional) (see [below for nested schema](#nestedblock--cloud))
- `dev_url` (String, Sensitive) The url of the dev-db see https://atlasgo.io/cli/url
- `dir` (String) the URL of the migration directory. dir or remote_dir block is required
- `env_name` (String) The name of the environment used for reporting runs to Atlas Cloud. Default: tf
- `exec_order` (String) How Atlas computes and executes pending migration files to the database. One of `linear`,`linear-skip` or `non-linear`. See https://atlasgo.io/versioned/apply#execution-order
- `remote_dir` (Block, Optional) (see [below for nested schema](#nestedblock--remote_dir))
- `revisions_schema` (String) The name of the schema the revisions table resides in
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- `version` (String) The version of the migration to apply, if not specified the latest version will be applied

### Read-Only

- `id` (String) The ID of this resource
- `status` (Object) The status of the migration (see [below for nested schema](#nestedatt--status))

<a id="nestedblock--cloud"></a>
### Nested Schema for `cloud`

Optional:

- `project` (String)
- `token` (String)
- `url` (String)


<a id="nestedblock--remote_dir"></a>
### Nested Schema for `remote_dir`

Optional:

- `name` (String) The name of the remote directory. This attribute is required when remote_dir is set
- `tag` (String) The tag of the remote directory


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) Timeout defaults to 20 mins. A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `update` (String) Timeout defaults to 20 mins. A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).


<a id="nestedatt--status"></a>
### Nested Schema for `status`

Read-Only:

- `current` (String)
- `latest` (String)
- `next` (String)
- `status` (String)
