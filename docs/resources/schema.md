---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "atlas_schema Resource - terraform-provider-atlas"
subcategory: ""
description: |-
  Atlas database resource manages the data schema of the database, using an HCL file describing the wanted state of the database. See https://atlasgo.io/
---

# atlas_schema (Resource)

Atlas database resource manages the data schema of the database, using an HCL file describing the wanted state of the database. See https://atlasgo.io/

## Example Usage

```terraform
data "atlas_schema" "market" {
  dev_url = "mysql://root:pass@localhost:3307/test"
  src     = file("${path.module}/schema.hcl")
}

resource "atlas_schema" "market" {
  hcl = data.atlas_schema.market.hcl
  url = "mysql://root:pass@localhost:3306/test"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `hcl` (String) The schema definition for the database (preferably normalized - see `atlas_schema` data source)

### Optional

- `cloud` (Block, Optional) (see [below for nested schema](#nestedblock--cloud))
- `config` (String) The content of atlas.hcl config
- `dev_url` (String, Sensitive) The url of the dev-db see https://atlasgo.io/cli/url
- `diff` (Block, Optional) (see [below for nested schema](#nestedblock--diff))
- `env_name` (String) The name of the environment used for reporting runs to Atlas Cloud. Default: tf
- `exclude` (List of String) Filter out resources matching the given glob pattern. See https://atlasgo.io/declarative/inspect#exclude-schemas
- `lint` (Block, Optional) The lint policy (see [below for nested schema](#nestedblock--lint))
- `tx_mode` (String) The transaction mode to use when applying the schema. See https://atlasgo.io/versioned/apply#transaction-configuration
- `url` (String, Sensitive) The url of the database see https://atlasgo.io/cli/url
- `variables` (String) Stringify JSON object containing variables to be used inside the Atlas configuration file.

### Read-Only

- `id` (String) The ID of this resource

<a id="nestedblock--cloud"></a>
### Nested Schema for `cloud`

Optional:

- `project` (String, Deprecated)
- `repo` (String)
- `token` (String)
- `url` (String)


<a id="nestedblock--diff"></a>
### Nested Schema for `diff`

Optional:

- `concurrent_index` (Block, Optional) The concurrent index policy (see [below for nested schema](#nestedblock--diff--concurrent_index))
- `skip` (Block, Optional) The skip changes policy (see [below for nested schema](#nestedblock--diff--skip))

<a id="nestedblock--diff--concurrent_index"></a>
### Nested Schema for `diff.concurrent_index`

Optional:

- `create` (Boolean) Whether to create indexes concurrently
- `drop` (Boolean) Whether to drop indexes concurrently


<a id="nestedblock--diff--skip"></a>
### Nested Schema for `diff.skip`

Optional:

- `add_column` (Boolean) Whether to skip adding columns
- `add_foreign_key` (Boolean) Whether to skip adding foreign keys
- `add_index` (Boolean) Whether to skip adding indexes
- `add_schema` (Boolean) Whether to skip adding schemas
- `add_table` (Boolean) Whether to skip adding tables
- `drop_column` (Boolean) Whether to skip dropping columns
- `drop_foreign_key` (Boolean) Whether to skip dropping foreign keys
- `drop_index` (Boolean) Whether to skip dropping indexes
- `drop_schema` (Boolean) Whether to skip dropping schemas
- `drop_table` (Boolean) Whether to skip dropping tables
- `modify_column` (Boolean) Whether to skip modifying columns
- `modify_foreign_key` (Boolean) Whether to skip modifying foreign keys
- `modify_index` (Boolean) Whether to skip modifying indexes
- `modify_schema` (Boolean) Whether to skip modifying schemas
- `modify_table` (Boolean) Whether to skip modifying tables



<a id="nestedblock--lint"></a>
### Nested Schema for `lint`

Optional:

- `review` (String) The review policy. One of `ALWAYS`, `WARNING` and `ERROR`.
- `review_timeout` (String) The review timeout. The time to wait for the review to be approved. Valid time unit are 's' (seconds), 'm' (minutes), 'h' (hours).
